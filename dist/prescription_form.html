<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repeat Prescription Request - Carndonagh Health Centre</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="page-wrapper">
        <!-- Sidebar Navigation -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <a href="index.html">
                    <img src="https://images.squarespace-cdn.com/content/v1/5f7f0586bc20b071daab8716/733e2f32-5f0e-499a-96dc-c12115a531f1/Carndonagh+Health+Centre-logo.jpg?format=1500w" alt="Carndonagh Health Centre Logo" class="logo">
                    <h3>Carndonagh Health Centre</h3>
                </a>
            </div>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="book-appointment.html">Book Appointment</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <div id="content">
            <header class="top-header">
                <button id="menu-toggle" class="hamburger-btn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <span class="header-title">Repeat Prescription Request</span>
            </header>

            <main class="main-content-inner">
                <div class="container-fluid d-flex"> <!-- Using a fluid container for this complex layout -->
                    <div class="sidebar-controls">
                        <h2>Controls</h2>
                        <button type="button" id="loadRequestBtn" class="sidebar-btn">Load My Prescriptions</button>
                        <input type="file" id="file-input" style="display:none" accept=".json">
                        <button type="button" id="saveRequestBtn" class="sidebar-btn">Save My Prescriptions</button>
                        <button type="button" id="clearFormBtn" class="sidebar-btn">Clear Form</button>
                        <button type="button" id="printSummaryBtn" class="sidebar-btn">Print Summary</button>
                    </div>

                    <div class="form-container card">
                        <form id="prescriptionForm">
                            <div class="form-section" id="patientDetailsSection">
                                <h2>Patient Details</h2>
                                <div class="form-group"><label for="patientName">Full Name:</label><input type="text" id="patientName" name="name" required></div>
                                <div class="form-group"><label for="patientDOB">Date of Birth:</label><input type="date" id="patientDOB" name="dob" required></div>
                                <div class="form-group"><label for="patientAddress">Address:</label><textarea id="patientAddress" name="address" rows="3"></textarea></div>
                                <div class="form-group"><label for="patientEmail">Email:</label><input type="email" id="patientEmail" name="email" required></div>
                                <div class="form-group"><label for="patientPhone">Phone Number:</label><input type="tel" id="patientPhone" name="phone"></div>
                                <div class="form-group"><label for="chosenPharmacy">Pharmacy:</label><select id="chosenPharmacy" name="pharmacy" required></select></div>
                                <div class="form-group"><label>Preferred Contact Method:</label><div><input type="radio" id="prefEmail" name="commPref" value="Email" checked> <label for="prefEmail">Email</label> <input type="radio" id="prefWhatsapp" name="commPref" value="WhatsApp"> <label for="prefWhatsapp">WhatsApp</label></div></div>
                            </div>
                            <div class="form-section">
                                <h2>Add Medication</h2>
                                <div class="form-group"><label for="medName">Medication Name:</label><input type="text" id="medName" list="medication-list"><datalist id="medication-list"></datalist></div>
                                <div class="form-group"><label for="medDosage">Dosage (e.g., 40mg):</label><input type="text" id="medDosage"></div>
                                <div class="form-group"><label for="medFreq">Frequency:</label><select id="medFreq"></select></div>
                                <button type="button" id="addMedicationBtn" class="btn">Add Medication</button>
                            </div>
                            <div class="form-section">
                                <h2>Current Prescription List</h2>
                                <table id="medicationTable" class="styled-table">
                                    <thead><tr><th>Name</th><th>Dosage</th><th>Frequency</th><th>Action</th></tr></thead>
                                    <tbody id="medicationList"></tbody>
                                </table>
                            </div>
                            <button type="submit" class="btn btn-full-width">Review and Submit Request</button>
                        </form>
                        <div id="submission-status"></div>
                    </div>
                </div>
            </main>

            <footer class="main-footer">
                <p>Carndonagh Health Centre | Derry Rd, Carndonagh, County Donegal | Tel: (074) 93 74208 / (074) 93 74262</p>
            </footer>
        </div>
    </div>

    <div id="summaryModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Confirm Your Request</h2>
            <div id="summaryDetails"></div>
            <button type="button" id="confirmSubmitBtn" class="btn">Confirm and Submit</button>
            <button type="button" class="cancel-button btn">Cancel</button>
        </div>
    </div>
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
